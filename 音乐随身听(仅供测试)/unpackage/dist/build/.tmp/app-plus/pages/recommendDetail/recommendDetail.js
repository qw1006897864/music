(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/recommendDetail/recommendDetail"],{"4c55":function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){return n.e("components/uni-load-more/uni-load-more").then(n.bind(null,"4bc7"))},a={components:{uniLoadMore:o},data:function(){return{header:{backgroundUrl:"",dissname:"",logo:"",nickname:"",listennum:0,title:"推荐歌曲"},windowHeight:500,headerOpacity:0,isLoading:!1,songList:[],mid:"",headerContentHeight:0,headerTitleHeight:0,songmid:[]}},onLoad:function(e){e=JSON.parse(decodeURIComponent(e.params));this.header.backgroundUrl=e.imgurl,this.header.dissname=e.dissname,this.header.listennum=e.listennum,this.getRecommendDetailList(e.dissid)},methods:{getAudioSrcList:function(){var e=this;this.$http.getAudioSrcList(this.songmid).then(function(t){if(0==t.code){var n=t.url_mid.data.midurlinfo,i=n.map(function(e){return e.purl});e.$store.commit("SET_AUDIOSRC",i)}})},getRecommendDetailList:function(e){var t=this;this.isLoading=!0,this.$http.getRecommendDetailList(e).then(function(e){t.isLoading=!1,t.header.logo=e.headurl,t.header.nickname=e.nickname;var n=[],i=e.songlist;i.forEach(function(e,i){e.albummid&&(t.songmid.push(e.songmid),n.push({songname:e.songname,interval:e.interval,songmid:e.songmid,songid:e.songid,albummid:e.albummid,singer:t.singer(e.singer),imgurl:"https://y.gtimg.cn/music/photo_new/T002R300x300M000"+e.albummid+".jpg?max_age=2592000"}))}),t.getAudioSrcList(),t.songList=n,t.$store.commit("SET_AUDIOARR",n)})},singer:function(e){var t=[];return e.forEach(function(e){t.push(e.name)}),t.join("、")},scroll:function(e){var t=e.detail.scrollTop,n=t/(this.headerContentHeight-this.headerTitleHeight);n>=1?this.headerOpacity=1:n<.2?(this.header.title="推荐歌曲",this.headerOpacity=0):this.headerOpacity=n},selectSong:function(t,n){t["index"]=n,this.$store.commit("SET_CURRENTAUDIOINDEX",n);var i=encodeURIComponent(JSON.stringify(t));e.navigateTo({url:"/pages/playMusic/playMusic?songData="+i})},setWindowHeight:function(){var t=this;e.getSystemInfo({success:function(e){t.windowHeight=e.windowHeight}})},back:function(){e.navigateBack()}},onReady:function(){var t=this,n=e.createSelectorQuery().in(this);n.select("#headerContent").boundingClientRect(function(e){t.headerContentHeight=e.height}).exec(),n.select("#headerTitle").boundingClientRect(function(e){console.log(i(e," at pages/recommendDetail/recommendDetail.vue:231")),t.headerTitleHeight=e.height}).exec(),this.setWindowHeight()}};t.default=a}).call(this,n("6e42")["default"],n("0de9")["default"])},"4e2a":function(e,t,n){},"6d9c":function(e,t,n){"use strict";n.r(t);var i=n("eb20"),o=n("9c7c");for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);n("964a");var c=n("2877"),s=Object(c["a"])(o["default"],i["a"],i["b"],!1,null,"3960895c",null);t["default"]=s.exports},"964a":function(e,t,n){"use strict";var i=n("4e2a"),o=n.n(i);o.a},"9c7c":function(e,t,n){"use strict";n.r(t);var i=n("4c55"),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);t["default"]=o.a},c766:function(e,t,n){"use strict";(function(e){n("c7ea"),n("921b");i(n("66fd"));var t=i(n("6d9c"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},eb20:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement;e._self._c},o=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o})}},[["c766","common/runtime","common/vendor"]]]);